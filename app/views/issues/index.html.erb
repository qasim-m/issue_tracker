<% content_for :title, "Issues" %>

<div class="container mx-auto px-4 py-8 max-w-6xl">
  <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900">Issues</h1>
    <%= link_to "New Issue", new_issue_path,
      class: "rounded-full px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold shadow-lg transition transform hover:-translate-y-0.5 w-full sm:w-auto text-center" %>
  </div>

  <div id="issues">
    <% if @issues.any? %>
      <ul class="divide-y divide-gray-200 bg-white rounded-2xl shadow-lg overflow-hidden">
        <% @issues.each do |issue| %>
          <li class="p-6 hover:bg-gray-50 transition-colors duration-200 ease-in-out">
            <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-6">

              <div class="flex-1 md:max-w-3xl">
                <%= render issue %>
              </div>

              <div class="flex flex-col sm:flex-row md:flex-col gap-2 sm:gap-3 w-full md:w-48">
                <%= link_to "View", issue,
                  class: "w-full text-center rounded-lg px-5 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium shadow-sm transition" %>

                <%= link_to "Edit", edit_issue_path(issue),
                  class: "w-full text-center rounded-lg px-5 py-2 bg-yellow-400 hover:bg-yellow-500 text-white font-medium shadow-sm transition" %>

                <%= button_to "Delete", issue, method: :delete,
                  data: { turbo_confirm: "Are you sure you want to delete this issue?" },
                  class: "w-full text-center rounded-lg px-5 py-2 bg-red-600 hover:bg-red-700 text-white font-medium shadow-sm transition" %>
              </div>
            </div>
          </li>
        <% end %>
      </ul>
    <% else %>
      <div class="text-center my-10 p-8 bg-white rounded-lg shadow-md">
        <p class="text-gray-500 text-lg">No issues found. Create your first one!</p>
      </div>
    <% end %>
  </div>

</div>
