<% content_for :title, "Projects" %>
<div class="main_container bg-white md:p-8 p-4 rounded-xl shadow-xl">
  <div class="flex justify-between items-center">
    <%= render(HeadingComponent.new(margin_bottom: false)) do %>
      Projects
    <% end %>
    <%= render LinkComponent.new(href: new_project_path, variant: :secondary) do %>
      Create New Project
    <% end %>
  </div>
  <div data-controller="projects-search" id="projects-container">
    <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-4 md:mb-2 md:mt-6 mt-4">
      <%= render ParaComponent.new(variant: :base, weight: :normal) do %>
        Total Projects: <%= @projects.count %>
      <% end %>
      <%= render Search::SearchComponent.new(
        id: "projects-search", 
        placeholder: "Search Projects"
      ) %>
    </div>
    <div id="projects">
      <% if @projects.any? %>
        <%= render "projects_table", project: @project %>
        <ul class="pagination flex justify-center items-center mt-4" data-turbo="false"></ul>
      <% else %>
        <div class="flex justify-center items-center mx-auto py-4 md:py-8">
          <%= render ParaComponent.new(variant: :base) do %>
            No projects found. Start by creating a new one!
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>
